<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>array_mission.html</title>
</head>
<body>
<script>
/* phone="010-1111-2222"와 같은 연락처가 저장되어 있을 때
   split함수를 사용하여 사업자번호, 국번, 전화번호를 분리하여 각각 출력
 */
function M1(){	
	let phone = "010-1111-2222";
	let a = phone.split('-');
	console.log('사업자:',    a[0]);
	console.log('국번:',     a[1]);
	console.log('전화번호:',  a[2]);
}
M1();	
 /* str="1,2,3,4,5"와 같이 숫자가 하나의 문자열로 입력되어 있다.
 	이를 split으로 분리한 후 합계와 평균을 구하여 출력
 */


    function M2(){	 
	let str="1,2,3,4,5";
	let n = str.split(",");
	console.log(n);
	let sum = n.reduce(function(r, v){
		r+= Number(v);
		return r
	},0);
	let avg = (sum/n.length).toFixed(1);
	console.log('합계:',sum);
	console.log('평균:',avg);
	 }
	M2();

/*
function M2(){	 
let str="1,2,3,4,5";
let b = str.split(",");
console.log(b);
let sum = 0;
if(i=0; i<=b.length; i++){
sum += Number(b[i])};
let avg = sum/b.length;
console.log('합계:',sum);
console.log('평균:',avg);
 }
M2();
*/


 /* score = [60,70,50,70,30] 배열값을 some을 사용하여 과락이 있는지 판단하고
 	reduce()를 사용하여 합계를 구하여 합계, 평균을 출력하시오.
 	과락이 없고 평균이 60 이상이면 "pass", 아니면 "fail"을 출력
 */
function M3(){
let score = [60,70,90,70,57];
let flag = score.some(function(v){
	if(v<40) return true;
	})
	let sum = score.reduce(function(r,v){
		r += v
		return r;
	},0)
	let avg = sum/score.length;
	console.log('과락:', flag);
	console.log('합계:', sum);
	console.log('평균:', avg);
	if(flag==false && avg>=60){
		console.log('Pass');
	}
	else{
		console.log('Fail');
	}
}
M3(); 

/* sum=[1,2,3,4,3,4,5,1]의 배열에서 각 번호의 발생 빈도를 계산하여 
숫자와 함께 출력 
*/ 
function M4(){
	let su=[23,42,32,42,3,24,123,1,3,1,13,1,13,13,141,31,3];
	let cnt=su.reduce(function(r,n){
		r[n] = ++r[n] || 1;
		return r;
	},{})
	
	for(x in cnt){
		rate = cnt[x]/su.length*100;
		console.log(x,cnt[x], rate.toFixed(2));
	}
}
M4();
</script>
</body>
</html>